(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{135:function(t,e,s){"use strict";s.r(e);var i=s(258),a=s(244),r=s(250),n=s(265),o=s(413),l=s(246),h=s(256),d={name:"email",props:{title:String,id:Number,type:String},components:{Navbar:()=>s.e(3).then(s.bind(null,181))},data:()=>({valid:!1,header:"",email:"",typeItem:"",headerRules:[t=>3<=t.length],text:"",csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content")}),methods:{discard(){this.header="",this.text=""},send(){let t="";t=("call"===this.typeItem?this.call:"product"===this.typeItem?this.product:this.service).email,axios.post("/admin/requests/mail",{header:this.header,text:this.text,email:t}).then(t=>{$(`<p class="success-sending text-success mt-2">${t.data}</p>`).insertBefore(".row.justify-content-end"),setTimeout(()=>{$(".success-sending").remove()},2500),this.header="",this.text=""})}},created(){switch(Vue.set(this,"typeItem",this.$router.currentRoute.path.split("/")[this.$router.currentRoute.path.split("/").length-2]),this.typeItem){case"product":this.$store.dispatch("productRequest",this.$router.currentRoute.params.id);break;case"service":this.$store.dispatch("serviceRequest",this.$router.currentRoute.params.id);break;case"call":this.$store.dispatch("callRequest",this.$router.currentRoute.params.id)}},computed:{service(){return this.$store.getters.getServiceRequestById},product(){return this.$store.getters.getProductRequestById},call(){return this.$store.getters.getCallRequestById},tabs(){var t={};return t[this.title]=this.title,t["Send Email"]="Send Email",t}},mounted(){},watch:{typeItem(t,e){}}},u=s(11);u=Object(u.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("Navbar",{attrs:{heading:"Email",tabs:[t.tabs],"email-page":!0}}),t._v(" "),e(n.a,{staticClass:"notification-form",attrs:{method:"POST"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),e("h4",{staticClass:"form-title"},[t._v("Send email")]),t._v(" "),e(r.a,{staticClass:"email-notification"},[e("h5",{staticClass:"email-title"},[t._v("Article")]),t._v(" "),e(o.a,[e(a.a,{attrs:{cols:"12"}},[e(l.a,{staticClass:"border-0",attrs:{rules:t.headerRules,counter:10,placeholder:"Heading",required:"",name:"header"},model:{value:t.header,callback:function(e){t.header=e},expression:"header"}})],1)],1),t._v(" "),e(o.a,[e(a.a,{attrs:{cols:"12"}},[e(h.a,{attrs:{placeholder:"Body",required:"",name:"text"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1),t._v(" "),e(o.a,{staticClass:"d-flex justify-content-end"},[e(i.a,{staticClass:"discard-form",attrs:{width:"auto"},on:{click:t.discard}},[t._v("\n                    Discard\n                ")]),t._v(" "),e(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},nativeOn:{click:function(e){return t.send.apply(null,arguments)}}},[t._v("\n                    SEND\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=u.exports},207:function(t,e,s){"use strict";var i,a,r=s(210),n=s(27),o=s(219),l=s(26),h=s(2),d=s(0);s=s(25);(a=i=i||{}).xSmall="12px",a.small="16px",a.default="24px",a.medium="28px",a.large="36px",a.xLarge="40px";const u=Object(s.a)(r.a,n.a,o.a,l.a).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:()=>!1,hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(h.A)(this,t)},getSize(){const t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge};var e=Object(h.x)(t).find(e=>t[e]);return e&&i[e]||Object(h.h)(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){var t=this.getSize();t={...this.getDefaultData(),style:t?{fontSize:t,height:t,width:t}:void 0};return this.applyColors(t),t},applyColors(t){t.class={...t.class,...this.themeClasses},this.setTextColor(this.color,t)},renderFontIcon(t,e){var s=[],i=this.getDefaultData();let a="material-icons";var r,n,o=(n=t.indexOf("-"))<=-1;return(n=(o?s.push(t):(a=t.slice(0,n),r=a,["fas","far","fal","fab","fad","fak"].some(t=>r.includes(t))&&(a="")),i.class[a]=!0,i.class[t]=!o,this.getSize()))&&(i.style={fontSize:n}),this.applyColors(i),e(this.hasClickListener?"button":this.tag,i,s)},renderSvgIcon(t,e){var s={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},i=this.getSize();return i&&(s.style={fontSize:i,height:i,width:i}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",s,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent(t,e){var s={class:{"v-icon__component":!0}},i=((i=this.getSize())&&(s.style={fontSize:i,height:i,width:i}),this.applyColors(s),t.component);return s.props=t.props,s.nativeOn=s.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(i,s)])}},render(t){var e,s=this.getIcon();return"string"==typeof s?/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e=s)&&/[\dz]$/i.test(e)&&4<e.length?this.renderSvgIcon(s,t):this.renderFontIcon(s,t):this.renderSvgIconComponent(s,t)}});e.a=d.default.extend({name:"v-icon",$_wrapperFor:u,functional:!0,render(t,{data:e,children:s}){let i="";return e.domProps&&(i=e.domProps.textContent||e.domProps.innerHTML||i,delete e.domProps.textContent,delete e.domProps.innerHTML),t(u,e,i?[i]:s)}})},215:function(t,e,s){"use strict";s=s(207),e.a=s.a},224:function(t,e,s){"use strict";e.a={inserted:function(t,e,s){var i=e.value,a=e.options||{passive:!0};window.addEventListener("resize",i,a),t._onResize=Object(t._onResize),t._onResize[s.context._uid]={callback:i,options:a},e.modifiers&&e.modifiers.quiet||i()},unbind:function(t,e,s){var i,a;null!=(i=t._onResize)&&i[s.context._uid]&&(({callback:i,options:a}=t._onResize[s.context._uid]),window.removeEventListener("resize",i,a),delete t._onResize[s.context._uid])}}},256:function(t,e,s){"use strict";var i=s(246);s=s(25),s=Object(s.a)(i.a);e.a=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i.a.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null!=(e=this.$refs.input)&&e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){var t,e,s=this.$refs.input;s&&(s.style.height="0",t=s.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight),s.style.height=Math.max(e,t)+"px")},genInput(){var t=i.a.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){i.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},265:function(t,e,s){"use strict";var i=s(25),a=s(210);s=s(228);e.a=Object(i.a)(a.a,Object(s.b)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){t=Object.values(t).includes(!0),this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",i=>{!i||this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t))}):s.valid=e(t),s},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);var s;e&&((s=this.watchers.find(t=>t._uid===e._uid))&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid))}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})}}]);