(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{140:function(t,a,e){"use strict";function s(){var t=this,a=t._self._c;return a("div",{attrs:{id:"add-item-page"}},[a("Navbar",{attrs:{tabs:[{Products:"Products","Add Product":"Add Product"}],heading:"Products","email-page":!0}}),t._v(" "),a(l.a,{ref:"form",staticClass:"add-product",class:[t.loading?"loading-form":""],attrs:{method:"POST",enctype:"multipart/form-data"},model:{value:t.form.valid,callback:function(a){t.$set(t.form,"valid",a)},expression:"form.valid"}},[a("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),t.loading?a("div",{staticClass:"lds-dual-ring"}):t._e(),t._v(" "),a("div",[a("h4",{staticClass:"form-title"},[t._v(t._s(t.updatePage?"Edit Product":"Add Product"))]),t._v(" "),a("ul",{staticClass:"list-group-inline"},[a("li",{staticClass:"nav-item",attrs:{"data-id":"3"}},[a("a",{staticClass:"nav-link",class:{active:t.isActive(3)},attrs:{href:"#rus"},on:{click:function(a){return a.preventDefault(),t.setActive(a,3)}}},[t._v("RUS")])]),t._v(" "),a("li",{staticClass:"nav-item",attrs:{"data-id":"1"}},[a("a",{staticClass:"nav-link",class:{active:t.isActive(1)},attrs:{href:"#eng"},on:{click:function(a){return a.preventDefault(),t.setActive(a,1)}}},[t._v("ENG")])]),t._v(" "),a("li",{staticClass:"nav-item",attrs:{"data-id":"2"}},[a("a",{staticClass:"nav-link",class:{active:t.isActive(2)},attrs:{href:"#ro"},on:{click:function(a){return a.preventDefault(),t.setActive(a,2)}}},[t._v("RO")])])])]),t._v(" "),a("div",{staticClass:"tab-content py-3",attrs:{id:"addProductTabs"}},[a("div",{class:["tab-pane fade",{"active show":t.isActive(1)}],attrs:{id:"eng"}},[a(n.a,[a(u.a,[a("h5",{staticClass:"row-title"},[t._v("Stock")]),t._v(" "),a(o.a,{attrs:{cols:"12"}},[a(c.a,{attrs:{row:"",mandatory:""},model:{value:t.form[1].available,callback:function(a){t.$set(t.form[1],"available",a)},expression:"form[1].available"}},[a(r.a,{attrs:{color:"success",value:1,label:"In stock"},on:{change:function(a){return t.updateValues("available",1)}}}),t._v(" "),a(r.a,{attrs:{color:"success",value:0,label:"Out of stock"},on:{change:function(a){return t.updateValues("available",0)}}})],1)],1)],1),t._v(" "),a(u.a,[a("h5",{staticClass:"row-title"},[t._v("Description")]),t._v(" "),a(o.a,{attrs:{cols:"12"}},[a(d.a,{attrs:{placeholder:"Product name",required:"",rules:t.form[1].nameRules},model:{value:t.form[1].name,callback:function(a){t.$set(t.form[1],"name",a)},expression:"form[1].name"}})],1)],1),t._v(" "),a(u.a,[a(o.a,{staticClass:"pr-2",attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Set number"},on:{keyup:function(a){return t.updateValues("sku",a.target.value)}},model:{value:t.form[1].sku,callback:function(a){t.$set(t.form[1],"sku",a)},expression:"form[1].sku"}})],1),t._v(" "),a(o.a,{staticClass:"m-auto",attrs:{cols:"6"}},[a("div",{staticClass:"dropdown-categories"},[a("button",{staticClass:"v-select-dropdown",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.activateDropdown.apply(null,arguments)}}},[t._v("\n                                    "+t._s(t.isActiveCategory())+"\n                                    "),t.dropdown?a("i",{staticClass:"arrow up"}):a("i",{staticClass:"arrow down"})]),t._v(" "),t.dropdown?a("ul",{staticClass:"position-absolute bg-white category-dropdown list-unstyled"},t._l(t.groupCategories(t.categories),(function(e){return a("li",[a("p",{staticClass:"parent",attrs:{"data-id":e.id},on:{click:function(a){return t.selectCategory(a)}}},[t._v("\n                                            "+t._s(e.name))]),t._v(" "),e.child?a("ul",t._l(e.child,(function(e){return a("li",{attrs:{"data-id":e.id},on:{click:function(a){return t.selectCategory(a)}}},[t._v("\n                                                - "+t._s(e.name)+"\n                                            ")])})),0):t._e()])})),0):t._e()])])],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a(d.a,{attrs:{placeholder:"Price"},on:{keyup:function(a){return t.updateValues("price",a.target.value)}},model:{value:t.form[1].price,callback:function(a){t.$set(t.form[1],"price",a)},expression:"form[1].price"}},[a("p",{staticClass:"m-auto",attrs:{slot:"append"},slot:"append"},[t._v("\n                                    EUR\n                                ")])])],1)],1),t._v(" "),a(u.a,[a(o.a,{staticClass:"pr-2",attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Brand"},on:{keyup:function(a){return t.updateValues("brand",a.target.value)}},model:{value:t.form[1].brand,callback:function(a){t.$set(t.form[1],"brand",a)},expression:"form[1].brand"}})],1),t._v(" "),a(o.a,{staticClass:"m-auto",attrs:{cols:"6"}},[a("label",{staticClass:"add-to-item",attrs:{for:"logo-upload"}},[t._v("\n                                "+t._s(t.logo||"Image")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{attrs:{type:"file",id:"logo-upload"},on:{change:t.logoChosen}})])],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a(m.a,{attrs:{placeholder:"Body",required:"",name:"text"},model:{value:t.form[1].description,callback:function(a){t.$set(t.form[1],"description",a)},expression:"form[1].description"}})],1)],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a("label",{staticClass:"add-to-item",attrs:{for:"img-upload"}},[t._v("\n                                "+t._s(t.image||"Add image")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{attrs:{type:"file",id:"img-upload"},on:{change:t.imageChosen}})])],1),t._v(" "),a("div",{staticClass:"document"},[a(u.a,[a("label",{staticClass:"add-to-item",attrs:{for:"document-upload"}},[t._v("\n                                "+t._s(t.document||"Add document")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"document-upload",type:"file"},on:{change:function(a){return t.documentChosen(a)}}})])],1),t._v(" "),a(u.a,{staticClass:"mt-5"},[a("h4",{staticClass:"row-title"},[t._v("Features")])]),t._v(" "),t._l(t.form[1].features,(function(e,s){return a(u.a,{key:"feature-"+s,staticClass:"features-block"},[a(o.a,{attrs:{cols:"6 pr-2"}},[a(d.a,{attrs:{placeholder:"Name"},model:{value:e.feature_name,callback:function(a){t.$set(e,"feature_name",a)},expression:"f.feature_name"}})],1),t._v(" "),a(o.a,{attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Feature"},model:{value:e.feature_value,callback:function(a){t.$set(e,"feature_value",a)},expression:"f.feature_value"}})],1),t._v(" "),a("span",{staticClass:"feature-delete",on:{click:function(a){return t.deleteFeature(s)}}},[a("img",{attrs:{src:"/assets/icons/delete.png",title:"Delete feature"}})])],1)})),t._v(" "),a(u.a,[a(i.a,{staticClass:"add-to-item",on:{click:t.pushFeature}},[t._v("\n                            Add specification\n                            "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/add.jpg",expression:"'/assets/icons/add.jpg'"}],staticClass:"ml-2 fil-input-icon"})])],1),t._v(" "),a(u.a,{staticClass:"mt-5"},[a("h4",{staticClass:"row-title"},[t._v("Benefits")])]),t._v(" "),t._l(t.form[1].advantages,(function(e,s){return a(o.a,{key:"advantages-"+s,attrs:{cols:"12"}},[a(u.a,[a(o.a,{attrs:{cols:"6 pr-2"}},[a(d.a,{attrs:{placeholder:"Name"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"f.name"}})],1),t._v(" "),a(o.a,{attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Benefits"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"f.value"}})],1)],1),t._v(" "),a("label",{staticClass:"add-to-item w-100",attrs:{for:"file-upload-"+s}},[t._v("\n                            "+t._s(e.icon||"Add icon")+"\n                            "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"ml-2 file-input-icon"})]),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"file-upload-"+s,type:"file"},on:{change:function(a){return t.iconChosen(a,s)}}})],1)})),t._v(" "),a(u.a,{staticClass:"d-flex justify-content-end"},[a(i.a,{staticClass:"discard-form",attrs:{width:"auto"},on:{click:t.discard}},[t._v("\n                            Discard\n                        ")]),t._v(" "),t.updatePage?a(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.update.apply(null,arguments)}}},[t._v("\n                            UPDATE\n                        ")]):a(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.send.apply(null,arguments)}}},[t._v("\n                            SEND\n                        ")])],1),t._v(" "),a("input",{attrs:{type:"hidden"},domProps:{value:1}})],2)],1),t._v(" "),a("div",{staticClass:"tab-pane fade",class:{"active show":t.isActive(3)},attrs:{id:"rus"}},[a(n.a,[a(u.a,[a("h5",{staticClass:"row-title"},[t._v("Stock")]),t._v(" "),a(o.a,{attrs:{cols:"12"}},[a(c.a,{attrs:{row:""},model:{value:t.form[3].available,callback:function(a){t.$set(t.form[3],"available",a)},expression:"form[3].available"}},[a(r.a,{attrs:{color:"success",value:1,label:"In stock"},on:{change:function(a){return t.updateValues("available",1)}}}),t._v(" "),a(r.a,{attrs:{color:"success",value:0,label:"Out of stock"},on:{change:function(a){return t.updateValues("available",0)}}})],1)],1)],1),t._v(" "),a(u.a,[a("h5",{staticClass:"row-title"},[t._v("Description")]),t._v(" "),a(o.a,{attrs:{cols:"12"}},[a(d.a,{attrs:{placeholder:"Product name",required:"",rules:t.form[3].nameRules},model:{value:t.form[3].name,callback:function(a){t.$set(t.form[3],"name",a)},expression:"form[3].name"}})],1)],1),t._v(" "),a(u.a,[a(o.a,{staticClass:"pr-2",attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Set number"},on:{keyup:function(a){return t.updateValues("sku",a.target.value)}},model:{value:t.form[3].sku,callback:function(a){t.$set(t.form[3],"sku",a)},expression:"form[3].sku"}})],1),t._v(" "),a(o.a,{staticClass:"m-auto",attrs:{cols:"6"}},[a("div",{staticClass:"dropdown-categories"},[a("button",{staticClass:"v-select-dropdown",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.activateDropdown.apply(null,arguments)}}},[t._v("\n                                    "+t._s(t.isActiveCategory())+"\n                                    "),t.dropdown?a("i",{staticClass:"arrow up"}):a("i",{staticClass:"arrow down"})]),t._v(" "),t.dropdown?a("ul",{staticClass:"position-absolute bg-white category-dropdown list-unstyled"},t._l(t.groupCategories(t.categories),(function(e){return a("li",[a("p",{staticClass:"parent",attrs:{"data-id":e.id},on:{click:function(a){return t.selectCategory(a)}}},[t._v("\n                                            "+t._s(e.name))]),t._v(" "),e.child?a("ul",t._l(e.child,(function(e){return a("li",{attrs:{"data-id":e.id},on:{click:function(a){return t.selectCategory(a)}}},[t._v("\n                                                - "+t._s(e.name)+"\n                                            ")])})),0):t._e()])})),0):t._e()])])],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a(d.a,{attrs:{placeholder:"Price"},on:{keyup:function(a){return t.updateValues("price",a.target.value)}},model:{value:t.form[3].price,callback:function(a){t.$set(t.form[3],"price",a)},expression:"form[3].price"}},[a("p",{staticClass:"m-auto",attrs:{slot:"append"},slot:"append"},[t._v("\n                                    EUR\n                                ")])])],1)],1),t._v(" "),a(u.a,[a(o.a,{staticClass:"pr-2",attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Brand"},on:{keyup:function(a){return t.updateValues("brand",a.target.value)}},model:{value:t.form[3].brand,callback:function(a){t.$set(t.form[3],"brand",a)},expression:"form[3].brand"}})],1),t._v(" "),a(o.a,{staticClass:"m-auto",attrs:{cols:"6"}},[a("label",{staticClass:"add-to-item",attrs:{for:"logo-upload"}},[t._v("\n                                "+t._s(t.logo||"Image")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{attrs:{type:"file",id:"logo-upload"},on:{change:t.logoChosen}})])],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a(m.a,{attrs:{placeholder:"Body",required:"",name:"text"},model:{value:t.form[3].description,callback:function(a){t.$set(t.form[3],"description",a)},expression:"form[3].description"}})],1)],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a("label",{staticClass:"add-to-item",attrs:{for:"img-upload"}},[t._v("\n                                "+t._s(t.image||"Add image")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{attrs:{type:"file",id:"img-upload"},on:{change:t.imageChosen}})])],1),t._v(" "),a("div",{staticClass:"document"},[a(u.a,[a("label",{staticClass:"add-to-item",attrs:{for:"document-upload"}},[t._v("\n                                "+t._s(t.document||"Add document")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"document-upload",type:"file"},on:{change:function(a){return t.documentChosen(a)}}})])],1),t._v(" "),a(u.a,{staticClass:"mt-5"},[a("h4",{staticClass:"row-title"},[t._v("Features")])]),t._v(" "),t._l(t.form[3].features,(function(e,s){return a(u.a,{key:"feature-"+s,staticClass:"features-block"},[a(o.a,{attrs:{cols:"6 pr-2"}},[a(d.a,{attrs:{placeholder:"Name"},model:{value:e.feature_name,callback:function(a){t.$set(e,"feature_name",a)},expression:"f.feature_name"}})],1),t._v(" "),a(o.a,{attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Specification"},model:{value:e.feature_value,callback:function(a){t.$set(e,"feature_value",a)},expression:"f.feature_value"}})],1),t._v(" "),a("span",{staticClass:"feature-delete",on:{click:function(a){return t.deleteFeature(s)}}},[a("img",{attrs:{src:"/assets/icons/delete.png",title:"Delete feature"}})])],1)})),t._v(" "),a(u.a,[a(i.a,{staticClass:"add-to-item",on:{click:t.pushFeature}},[t._v("\n                            Add specification\n                            "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/add.jpg",expression:"'/assets/icons/add.jpg'"}],staticClass:"ml-2 fil-input-icon"})])],1),t._v(" "),a(u.a,{staticClass:"mt-5"},[a("h4",{staticClass:"row-title"},[t._v("Benefits")])]),t._v(" "),t._l(t.form[3].advantages,(function(e,s){return a(o.a,{key:"advantages-"+s,attrs:{cols:"12"}},[a(u.a,[a(o.a,{attrs:{cols:"6 pr-2"}},[a(d.a,{attrs:{placeholder:"Name"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"f.name"}})],1),t._v(" "),a(o.a,{attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Benefits"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"f.value"}})],1)],1),t._v(" "),a("label",{staticClass:"add-to-item w-100",attrs:{for:"file-upload-"+s}},[t._v("\n                            "+t._s(e.icon||"Add icon")+"\n                            "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"ml-2 file-input-icon"})]),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"file-upload-"+s,type:"file"},on:{change:function(a){return t.iconChosen(a,s)}}})],1)})),t._v(" "),a(u.a,{staticClass:"d-flex justify-content-end"},[a(i.a,{staticClass:"discard-form",attrs:{width:"auto"},on:{click:t.discard}},[t._v("\n                            Discard\n                        ")]),t._v(" "),t.updatePage?a(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.update.apply(null,arguments)}}},[t._v("\n                            UPDATE\n                        ")]):a(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.send.apply(null,arguments)}}},[t._v("\n                            SEND\n                        ")])],1),t._v(" "),a("input",{attrs:{type:"hidden"},domProps:{value:3}})],2)],1),t._v(" "),a("div",{staticClass:"tab-pane fade",class:{"active show":t.isActive(2)},attrs:{id:"ro"}},[a(n.a,[a(u.a,[a("h5",{staticClass:"row-title"},[t._v("Stock")]),t._v(" "),a(o.a,{attrs:{cols:"12"}},[a(c.a,{attrs:{row:""},model:{value:t.form[2].available,callback:function(a){t.$set(t.form[2],"available",a)},expression:"form[2].available"}},[a(r.a,{attrs:{color:"success",value:1,label:"In stock"},on:{change:function(a){return t.updateValues("available",1)}}}),t._v(" "),a(r.a,{attrs:{color:"success",value:0,label:"Out of stock"},on:{change:function(a){return t.updateValues("available",0)}}})],1)],1)],1),t._v(" "),a(u.a,[a("h5",{staticClass:"row-title"},[t._v("Description")]),t._v(" "),a(o.a,{attrs:{cols:"12"}},[a(d.a,{attrs:{placeholder:"Product name",required:"",rules:t.form[2].nameRules},model:{value:t.form[2].name,callback:function(a){t.$set(t.form[2],"name",a)},expression:"form[2].name"}})],1)],1),t._v(" "),a(u.a,[a(o.a,{staticClass:"pr-2",attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Set number"},on:{keyup:function(a){return t.updateValues("sku",a.target.value)}},model:{value:t.form[2].sku,callback:function(a){t.$set(t.form[2],"sku",a)},expression:"form[2].sku"}})],1),t._v(" "),a(o.a,{staticClass:"m-auto",attrs:{cols:"6"}},[a("div",{staticClass:"dropdown-categories"},[a("button",{staticClass:"v-select-dropdown",attrs:{type:"submit"},on:{click:function(a){return a.preventDefault(),t.activateDropdown.apply(null,arguments)}}},[t._v("\n                                    "+t._s(t.isActiveCategory())+"\n                                    "),t.dropdown?a("i",{staticClass:"arrow up"}):a("i",{staticClass:"arrow down"})]),t._v(" "),t.dropdown?a("ul",{staticClass:"position-absolute bg-white category-dropdown list-unstyled"},t._l(t.groupCategories(t.categories),(function(e){return a("li",[a("p",{staticClass:"parent",attrs:{"data-id":e.id},on:{click:function(a){return t.selectCategory(a)}}},[t._v("\n                                            "+t._s(e.name))]),t._v(" "),e.child?a("ul",t._l(e.child,(function(e){return a("li",{attrs:{"data-id":e.id},on:{click:function(a){return t.selectCategory(a)}}},[t._v("\n                                                - "+t._s(e.name)+"\n                                            ")])})),0):t._e()])})),0):t._e()])])],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a(d.a,{attrs:{placeholder:"Price"},on:{keyup:function(a){return t.updateValues("price",a.target.value)}},model:{value:t.form[2].price,callback:function(a){t.$set(t.form[2],"price",a)},expression:"form[2].price"}},[a("p",{staticClass:"m-auto",attrs:{slot:"append"},slot:"append"},[t._v("\n                                    EUR\n                                ")])])],1)],1),t._v(" "),a(u.a,[a(o.a,{staticClass:"pr-2",attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Brand"},on:{keyup:function(a){return t.updateValues("brand",a.target.value)}},model:{value:t.form[2].brand,callback:function(a){t.$set(t.form[2],"brand",a)},expression:"form[2].brand"}})],1),t._v(" "),a(o.a,{staticClass:"m-auto",attrs:{cols:"6"}},[a("label",{staticClass:"add-to-item",attrs:{for:"logo-upload"}},[t._v("\n                                "+t._s(t.logo||"Image")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{attrs:{type:"file",id:"logo-upload"},on:{change:t.logoChosen}})])],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a(m.a,{attrs:{placeholder:"Body",required:"",name:"text"},model:{value:t.form[2].description,callback:function(a){t.$set(t.form[2],"description",a)},expression:"form[2].description"}})],1)],1),t._v(" "),a(u.a,[a(o.a,{attrs:{cols:"12"}},[a("label",{staticClass:"add-to-item",attrs:{for:"img-upload"}},[t._v("\n                                "+t._s(t.image||"Add image")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{attrs:{type:"file",id:"img-upload"},on:{change:t.imageChosen}})])],1),t._v(" "),a("div",{staticClass:"document"},[a(u.a,[a("label",{staticClass:"add-to-item",attrs:{for:"document-upload"}},[t._v("\n                                "+t._s(t.document||"Add document")+"\n                                "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"file-input-icon ml-2"})]),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"document-upload",type:"file"},on:{change:function(a){return t.documentChosen(a)}}})])],1),t._v(" "),a(u.a,{staticClass:"mt-5"},[a("h4",{staticClass:"row-title"},[t._v("Features")])]),t._v(" "),t._l(t.form[2].features,(function(e,s){return a(u.a,{key:"feature-"+s,staticClass:"features-block"},[a(o.a,{attrs:{cols:"6 pr-2"}},[a(d.a,{attrs:{placeholder:"Name"},model:{value:e.feature_name,callback:function(a){t.$set(e,"feature_name",a)},expression:"f.feature_name"}})],1),t._v(" "),a(o.a,{attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Feature"},model:{value:e.feature_value,callback:function(a){t.$set(e,"feature_value",a)},expression:"f.feature_value"}})],1),t._v(" "),a("span",{staticClass:"feature-delete",on:{click:function(a){return t.deleteFeature(s)}}},[a("img",{attrs:{src:"/assets/icons/delete.png",title:"Delete feature"}})])],1)})),t._v(" "),a(u.a,[a(i.a,{staticClass:"add-to-item",on:{click:t.pushFeature}},[t._v("\n                            Add specification\n                            "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/add.jpg",expression:"'/assets/icons/add.jpg'"}],staticClass:"ml-2 fil-input-icon"})])],1),t._v(" "),a(u.a,{staticClass:"mt-5"},[a("h4",{staticClass:"row-title"},[t._v("Advantages")])]),t._v(" "),t._l(t.form[2].advantages,(function(e,s){return a(o.a,{key:"advantages-"+s,attrs:{cols:"12"}},[a(u.a,[a(o.a,{attrs:{cols:"6 pr-2"}},[a(d.a,{attrs:{placeholder:"Name"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"f.name"}})],1),t._v(" "),a(o.a,{attrs:{cols:"6"}},[a(d.a,{attrs:{placeholder:"Advantage"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"f.value"}})],1)],1),t._v(" "),a("label",{staticClass:"add-to-item w-100",attrs:{for:"file-upload-"+s}},[t._v("\n                            "+t._s(e.icon||"Add icon")+"\n                            "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"/assets/icons/img.jpg",expression:"'/assets/icons/img.jpg'"}],staticClass:"ml-2 file-input-icon"})]),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{id:"file-upload-"+s,type:"file"},on:{change:function(a){return t.iconChosen(a,s)}}})],1)})),t._v(" "),a(u.a,{staticClass:"d-flex justify-content-end"},[a(i.a,{staticClass:"discard-form",attrs:{width:"auto"},on:{click:t.discard}},[t._v("\n                            Discard\n                        ")]),t._v(" "),t.updatePage?a(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.update.apply(null,arguments)}}},[t._v("\n                            UPDATE\n                        ")]):a(i.a,{staticClass:"submit-form",attrs:{width:"auto",right:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.send.apply(null,arguments)}}},[t._v("\n                            SEND\n                        ")])],1),t._v(" "),a("input",{attrs:{type:"hidden"},domProps:{value:2}})],2)],1),t._v(" "),a("p",{staticClass:"text-center text-danger mt-3"},[t._v(t._s(t.form[t.lang_id].errors||""))]),t._v(" "),a("p",{staticClass:"text-center text-success mt-3"},[t._v(t._s(t.form[t.lang_id].success||""))])])])],1)}e.r(a);var i=e(258),o=e(244),n=e(250),l=e(265),r=e(420),c=e(421),u=e(413),d=e(246),m=e(256),p=(s._withStripped=!0,e(7),{components:{Navbar:()=>e.e(3).then(e.bind(null,181))},props:["lang","id"],data:()=>({csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),updatePage:!1,form:[],image:"",logo:"",document:"",lang_id:1,active:2,dropdown:!1,updated:!1,loading:!1}),created(){this.lang_id=Vue.ls.get("language",1);let t=this;Vue.ls.on("language",(function(a){t.lang_id=a}));for(let t=1;t<4;t++)Vue.set(this.form,t,{valid:!1,available:1,header:"",description:"",category:"",name:"",nameRules:[t=>!!t||"Name is required"],sku:"",price:"",brand:"",features:[{id:null,feature_name:"",feature_value:""},{id:null,feature_name:"",feature_value:""}],advantages:[{id:null,name:"",value:"",iconFile:null,icon:""},{id:null,name:"",value:"",iconFile:null,icon:""},{id:null,name:"",value:"",iconFile:null,icon:""},{id:null,name:"",value:"",iconFile:null,icon:""}],image:"",imageFile:null,document:"",documentFile:null,logo:"",logoFile:null,activeItem:t,errors:"",success:""});this.lang_id=2,this.$store.commit("getDataForm",[]),this.$store.dispatch("categories",{lang_id:this.lang_id}),this.$router.currentRoute.path.includes("/edit")&&this.$store.dispatch("singleProduct",{id:this.$route.params.id,lang:this.lang_id}).then(()=>{for(let i=1;i<=3;i++){let o=[];var t=i;if(this.product[t].id?o=this.product[t]:(o=(o=(o=Object.keys(this.product).map((t,a)=>{if(this.product[t].lang_id)return this.product[t]})).filter(t=>null!=t)).find(t=>null!==t.id),this.form[i].name="",this.form[i].description="",this.form[i].advantages.forEach(t=>{t.name="",t.value="",t.iconFile=null,t.icon=""}),this.form[i].features.forEach(t=>{t.feature_name="",t.feature_value=""}),this.form[i].price=o.price,this.form[i].sku=o.sku,this.form[i].image=o.image,this.form[i].document=o.document,this.form[i].brand=o.brand,this.form[i].category=o.category,this.form[i].category_id=o.category_id),this.image=o.image.split("/").pop(),this.document=o.document.split("/").pop(),this.logo=o.brand_logo.split("/").pop(),this.product[i].name)for(var a in this.form[t])if(o[a])if(Array.isArray(this.form[t][a])){for(var e in o[a])if(o.features.length>this.form[t].features.length&&o.features===o[a]&&this.form[t].features.push({feature_name:"",feature_value:"",id:""}),o[a][e])for(var s in this.form[t][a][e])this.form[t][a][e][s]=o[a][e][s],this.form[t][a][e].icon&&(this.form[t][a][e][s]=o[a][e][s].split("/").pop())}else this.form[t][a]=o[a],this.form[t].available=parseInt(o.available),o.brand_logo&&(this.form[t].logo=o.brand_logo.split("/").pop()),o.image&&(this.form[t].image=o.image.split("/").pop()),o.document&&(this.form[t].document=o.document.split("/").pop())}})},methods:{pushFeature(){this.form[this.lang_id].features.push({feature_name:"",feature_value:""})},deleteFeature(t){this.form[this.lang_id].features.splice(t,1)},iconChosen(t,a){this.form[this.lang_id].advantages[a].icon=t.target.files[0].name,this.form[this.lang_id].advantages[a].iconFile=t.target.files[0]},documentChosen(t){this.form[this.lang_id].document=t.target.files[0].name,this.form[this.lang_id].documentFile=t.target.files[0],this.document=t.target.files[0].name},imageChosen(t){this.form[this.lang_id].image=t.target.files[0].name,this.form[this.lang_id].imageFile=t.target.files[0]},logoChosen(t){this.form[this.lang_id].logo=t.target.files[0].name,this.form[this.lang_id].logoFile=t.target.files[0]},changeLang(t){},setActive(t,a){this.active=a,this.lang_id=a,Vue.ls.set("language",parseInt(a))},isActive(t){return this.getRoute(this.$route.path)&&(this.updatePage=!0),parseInt(t)===parseInt(this.lang_id)},discard(){this.$refs.form.reset(),this.form[this.lang_id].logo="",this.form[this.lang_id].logoFile=null,this.form[this.lang_id].image="",this.form[this.lang_id].imageFile=null,this.form[this.lang_id].document="",this.form[this.lang_id].documentFile=null,this.form[this.lang_id].advantages.forEach(t=>{t.name="",t.value=""}),this.updatePage&&this.$store.dispatch("page",this.$route.params.pagination),this.$router.go(-1)},send(){this.loading=!0,this.form.forEach((t,a)=>{if(t.name){let e=new FormData;e.append("logo",t.logoFile),e.append("file",t.imageFile),e.append("document",t.documentFile),t.advantages.forEach((t,a)=>{t.iconFile&&e.append("icon-"+a,t.iconFile)}),e.append("data",JSON.stringify(t)),axios.post("/admin/products/add",e).then(e=>{200!==e.status||e.data.error||void 0!==this.form[a+1]&&this.form[a+1].name||(this.loading=!1,this.$router.go(-1)),t.errors=e.data.error})}else t.name||a!==this.lang_id||(this.loading=!1,this.form[a].errors="Some fields need to be completed")})},update(){this.loading=!0,this.form.forEach((t,a)=>{if(t.name){let e=new FormData;e.append("logo",t.logoFile),e.append("file",t.imageFile),e.append("document",t.documentFile),t.advantages.forEach((t,a)=>{t.iconFile&&e.append("iconfile-"+a,t.iconFile)}),e.append("data",JSON.stringify(t)),axios.post("/admin/products/"+this.$route.params.id,e).then(t=>{void 0!==this.form[a+1]&&this.form[a+1].name||(this.loading=!1,this.form[a].success="Updated successfully",setTimeout(()=>{this.form[a].success=""},1500))})}else this.loading=!1})},groupCategories(t){let a=[];return t.forEach((t,e)=>{t.parent_id?a.map(a=>a.id===t.parent_id?a.child.push({name:t.data.name,id:t.id,parent_id:t.parent_id}):""):a.push({name:t.data.name,id:t.id,parent_id:t.parent_id,child:[]})}),a},activateDropdown(){this.dropdown=!this.dropdown},isActiveCategory(){var t=this.form[this.active].category?parseInt(this.form[this.active].category):0,a=this.groupCategories(this.categories);if(this.form[this.active].category)for(let e=0;e<a.length;e++){if(a[e].id===t)return a[e].name;for(let s=0;s<a[e].child.length;s++)if(a[e].child[s].id===t)return a[e].child[s].name}return"Select a category"},selectCategory(t){this.updateValues("category",t.target.getAttribute("data-id")),this.dropdown=!1},getRoute(t){var a=t.split("/").length;return"edit"===t.split("/")[a-1]},dropdownFalse(){this.dropdown=!1},updateValues(t,a){for(let e=1;e<=3;e++)this.form[e][t]=a}},mounted(){},watch:{lang_id:function(t){Vue.ls.set("language",t)},dropdown(t,a){t?setTimeout(()=>{document.addEventListener("click",this.dropdownFalse)},300):document.removeEventListener("click",this.dropdownFalse)}},computed:{categories(){return this.$store.getters.getCategories},product(){return this.$store.getters.getSingleProduct}}}),f=e(11);f=Object(f.a)(p,s,[],!1,null,"e8850448",null);a.default=f.exports}}]);