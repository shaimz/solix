(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-18"],{"./resources/js/components/backend/requests/CallRequests.vue":
/*!*******************************************************************************!*\
  !*** ./resources/js/components/backend/requests/CallRequests.vue + 4 modules ***!
  \*******************************************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/backend/requests/CallRequests.vue?vue&type=template&id=700f1057&\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    { attrs: { id: "request-page", title: "" } },\n    [\n      _c("Navbar", {\n        attrs: { heading: this.$attrs.head, tabs: this.$attrs.nav }\n      }),\n      _vm._v(" "),\n      _c(\n        "div",\n        { staticClass: "tab-content", attrs: { id: "pills-tabContent" } },\n        [\n          _c(\n            "div",\n            {\n              staticClass: "tab-pane fade show active",\n              attrs: {\n                id: "pills-active-requests",\n                role: "tabpanel",\n                "aria-labelledby": "pills-requests-tab"\n              }\n            },\n            [\n              _c("dataTables", {\n                attrs: {\n                  seenPage: "call",\n                  "page-type": "default",\n                  heading: Object.values(this.$attrs.nav[0])[0],\n                  headings: _vm.headers,\n                  items: _vm.showCallRequests(1)\n                },\n                on: { value: _vm.showModal }\n              })\n            ],\n            1\n          ),\n          _vm._v(" "),\n          _c(\n            "div",\n            {\n              staticClass: "tab-pane fade",\n              attrs: {\n                id: "pills-archive",\n                role: "tabpanel",\n                "aria-labelledby": "pills-archive-tab"\n              }\n            },\n            [\n              _c("dataTables", {\n                attrs: {\n                  "page-type": "archive",\n                  heading: Object.values(this.$attrs.nav[0])[0],\n                  headings: _vm.headers,\n                  items: _vm.showCallRequests(0)\n                }\n              })\n            ],\n            1\n          )\n        ]\n      ),\n      _vm._v(" "),\n      _vm.open\n        ? _c(\n            "modal-request",\n            _vm._b(\n              {\n                attrs: {\n                  route: "emailCall",\n                  headings: this.$attrs.head,\n                  type: "call",\n                  id: _vm.id,\n                  open: _vm.open\n                },\n                on: { offvalue: _vm.toggleModal }\n              },\n              "modal-request",\n              _vm.data,\n              false\n            )\n          )\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n// CONCATENATED MODULE: ./resources/js/components/backend/requests/CallRequests.vue?vue&type=template&id=700f1057&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/backend/requests/CallRequests.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nconst Navbar = () => __webpack_require__.e(/*! import() */ "chunk-7").then(__webpack_require__.bind(null, /*! ./../includes/Navbar */ "./resources/js/components/backend/includes/Navbar.vue"));\n\nconst dataTables = () => __webpack_require__.e(/*! import() */ "chunk-5").then(__webpack_require__.bind(null, /*! ./../data/dataTables */ "./resources/js/components/backend/data/dataTables.vue"));\n\nconst ModalRequest = () => __webpack_require__.e(/*! import() */ "chunk-6").then(__webpack_require__.bind(null, /*! ../data/modalRequest */ "./resources/js/components/backend/data/modalRequest.vue"));\n\nconst EmailCall = () => __webpack_require__.e(/*! import() */ "chunk-21").then(__webpack_require__.bind(null, /*! ./email/Email */ "./resources/js/components/backend/requests/email/Email.vue"));\n\n/* harmony default export */ var CallRequestsvue_type_script_lang_js_ = ({\n  name: \'callRequests\',\n  components: {\n    ModalRequest,\n    Navbar,\n    dataTables,\n    EmailCall\n  },\n\n  mounted() {\n    this.$store.dispatch(\'callRequests\');\n  },\n\n  data: () => {\n    return {\n      headers: [{\n        text: \'Page\',\n        sortable: false,\n        align: \'left\',\n        value: \'name\'\n      }, {\n        text: \'Phone Number\',\n        sortable: false,\n        value: \'phone\'\n      }, {\n        text: \'Email\',\n        sortable: false,\n        value: \'email\'\n      }, {\n        text: \'Comment\',\n        sortable: false,\n        value: \'comment\'\n      }, {\n        text: \'Time\',\n        sortable: false,\n        value: \'time\'\n      }, {\n        text: \'\',\n        sortable: false,\n        value: \'controls\'\n      }],\n      open: false,\n      id: null,\n      email: null\n    };\n  },\n  computed: {\n    data() {\n      return this.$store.getters.getCallRequestById;\n    }\n\n  },\n  methods: {\n    showModal() {\n      this.open = true;\n    },\n\n    toggleModal(val) {\n      this.open = val;\n    },\n\n    getDate(str) {\n      let date = \'\' + str.replace(/[-?]/g, \'/\').replace(\'T\', \' \');\n      let result = date.split(\':\');\n      let time = [];\n      result.pop();\n      result[0].split(\'/\').forEach(e => {\n        time.push(e.split(\' \')[0]);\n      });\n      let temp = time[0];\n      time[0] = time[2];\n      time[2] = temp;\n      return time.join(\'/\');\n    },\n\n    showCallRequests(status = 1) {\n      let requests = this.$store.getters.getCallRequests;\n      let data = [];\n\n      if (requests) {\n        if (Array.isArray(requests)) {\n          requests.forEach(item => {\n            let routeName = this.$t(\'header\').find(i => i.link === item.page);\n\n            if (!routeName) {\n              routeName = this.$t(\'nav.pages\').find(i => i.link === item.page);\n            }\n\n            if (item.status === status) {\n              data.push({\n                value: true,\n                name: routeName ? routeName.text : item.page,\n                phone: item.phone,\n                email: item.email,\n                comment: item.comment,\n                time: this.getDate(item.created_at),\n                id: item.id\n              });\n            }\n          });\n        } else {\n          data.push({\n            value: false,\n            name: requests.type,\n            services: requests.service,\n            phone: requests.phone,\n            email: requests.email,\n            comment: requests.comment,\n            time: this.getDate(requests.created_at)\n          });\n        }\n\n        return data;\n      }\n    }\n\n  },\n\n  created() {},\n\n  ready: () => {}\n});\n// CONCATENATED MODULE: ./resources/js/components/backend/requests/CallRequests.vue?vue&type=script&lang=js&\n /* harmony default export */ var requests_CallRequestsvue_type_script_lang_js_ = (CallRequestsvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n// CONCATENATED MODULE: ./resources/js/components/backend/requests/CallRequests.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["default"])(\n  requests_CallRequestsvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "resources/js/components/backend/requests/CallRequests.vue"\n/* harmony default export */ var CallRequests = __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack:///./resources/js/components/backend/requests/CallRequests.vue_+_4_modules?')}}]);