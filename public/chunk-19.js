(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{189:function(e,t,a){"use strict";a.r(t);var s={name:"productRequests",components:{EmailProduct:()=>Promise.all([a.e(0),a.e(2),a.e(1),a.e(19)]).then(a.bind(null,132)),ModalRequest:()=>Promise.all([a.e(2),a.e(1),a.e(17),a.e(24),a.e(20)]).then(a.bind(null,182)),Navbar:()=>a.e(3).then(a.bind(null,178)),dataTables:()=>Promise.all([a.e(0),a.e(2),a.e(1),a.e(5),a.e(7)]).then(a.bind(null,134))},mounted(){this.$store.dispatch("productRequests")},data:()=>({headers:[{text:"Type",sortable:!1,align:"left",value:"name"},{text:"Product",sortable:!1,value:"products"},{text:"Phone Number",sortable:!1,value:"phone"},{text:"Email",sortable:!1,value:"email"},{text:"Comment",sortable:!1,value:"comment"},{text:"Time",sortable:!1,value:"time"},{text:"Price",sortable:!1,value:"price"},{text:"",sortable:!1,value:"controls"}],open:!1,id:null,isEmail:!1,email:null,update:0}),computed:{data(){return this.$store.getters.getProductRequestById}},methods:{showModal(){this.open=!0},toggleModal(e){this.open=e},getDate(e){let t=(""+e.replace(/[-?]/g,"/").replace("T"," ")).split(":"),a=[];return t.pop(),t[0].split("/").forEach(e=>{a.push(e.split(" ")[0])}),e=a[0],a[0]=a[2],a[2]=e,a.join("/")},showProductRequests(e=1){let t=this.$store.getters.getProductRequests,a=[];if(t)return Array.isArray(t)?t.forEach(t=>{t.status===e&&a.push({value:!0,name:t.type,products:t.name,phone:t.phone,email:t.email,comment:t.comment,time:this.getDate(t.created_at),price:t.price+" EUR",id:t.id})}):a.push({value:!1,name:t.type,products:t.name,phone:t.phone,email:t.email,comment:t.comment,time:this.getDate(t.created_at),price:t.price+" EUR",id:t.id}),a}},created(){},ready:()=>{},watch:{open(e,t){console.log("newval: "+e)}}},l=a(10);s=Object(l.a)(s,(function(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{attrs:{id:"request-page",title:""}},[t("Navbar",{attrs:{heading:this.$attrs.head,tabs:this.$attrs.nav}}),e._v(" "),t("div",{staticClass:"tab-content",attrs:{id:"pills-tabContent"}},[t("div",{staticClass:"tab-pane fade show active",attrs:{id:"pills-active-requests",role:"tabpanel","aria-labelledby":"pills-requests-tab"}},[t("dataTables",{attrs:{seenPage:"product","page-type":"default",heading:Object.values(this.$attrs.nav[0])[0],headings:e.headers,items:e.showProductRequests(1)},on:{value:e.showModal}})],1),e._v(" "),t("div",{staticClass:"tab-pane fade",attrs:{id:"pills-archive",role:"tabpanel","aria-labelledby":"pills-archive-tab"}},[t("dataTables",{attrs:{"page-type":"archive",heading:Object.values(this.$attrs.nav[0])[1],headings:e.headers,items:e.showProductRequests(0)}})],1)]),e._v(" "),e.open?t("modal-request",e._b({attrs:{route:"emailProduct",headings:this.$attrs.head,type:"product",id:e.id,open:e.open},on:{offvalue:e.toggleModal}},"modal-request",e.data,!1)):e._e()],1)}),[],!1,null,null,null);t.default=s.exports}}]);