(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-21"],{"./resources/js/components/backend/requests/email/Email.vue":
/*!******************************************************************************!*\
  !*** ./resources/js/components/backend/requests/email/Email.vue + 4 modules ***!
  \******************************************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vuetify/lib/components/VBtn/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vuetify/lib/components/VForm/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vuetify/lib/components/VGrid/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vuetify/lib/components/VTextField/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vuetify/lib/components/VTextarea/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vuetify-loader/lib/runtime/installComponents.js (<- Module is not an ECMAScript module) */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/backend/requests/email/Email.vue?vue&type=template&id=e57e3938&\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    [\n      _c("Navbar", {\n        attrs: { heading: "Email", tabs: [_vm.tabs], "email-page": true }\n      }),\n      _vm._v(" "),\n      _c(\n        "v-form",\n        {\n          staticClass: "notification-form",\n          attrs: { method: "POST" },\n          model: {\n            value: _vm.valid,\n            callback: function($$v) {\n              _vm.valid = $$v\n            },\n            expression: "valid"\n          }\n        },\n        [\n          _c("input", {\n            attrs: { type: "hidden", name: "_token" },\n            domProps: { value: _vm.csrf }\n          }),\n          _vm._v(" "),\n          _c("h4", { staticClass: "form-title" }, [_vm._v("Send email")]),\n          _vm._v(" "),\n          _c(\n            "v-container",\n            { staticClass: "email-notification" },\n            [\n              _c("h5", { staticClass: "email-title" }, [_vm._v("Article")]),\n              _vm._v(" "),\n              _c(\n                "v-row",\n                [\n                  _c(\n                    "v-col",\n                    { attrs: { cols: "12" } },\n                    [\n                      _c("v-text-field", {\n                        staticClass: "border-0",\n                        attrs: {\n                          rules: _vm.headerRules,\n                          counter: 10,\n                          placeholder: "Heading",\n                          required: "",\n                          name: "header"\n                        },\n                        model: {\n                          value: _vm.header,\n                          callback: function($$v) {\n                            _vm.header = $$v\n                          },\n                          expression: "header"\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(" "),\n              _c(\n                "v-row",\n                [\n                  _c(\n                    "v-col",\n                    { attrs: { cols: "12" } },\n                    [\n                      _c("v-textarea", {\n                        attrs: {\n                          placeholder: "Body",\n                          required: "",\n                          name: "text"\n                        },\n                        model: {\n                          value: _vm.text,\n                          callback: function($$v) {\n                            _vm.text = $$v\n                          },\n                          expression: "text"\n                        }\n                      })\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(" "),\n              _c(\n                "v-row",\n                { staticClass: "d-flex justify-content-end" },\n                [\n                  _c(\n                    "v-btn",\n                    {\n                      staticClass: "discard-form",\n                      attrs: { width: "auto" },\n                      on: { click: _vm.discard }\n                    },\n                    [_vm._v("\\n                    Discard\\n                ")]\n                  ),\n                  _vm._v(" "),\n                  _c(\n                    "v-btn",\n                    {\n                      staticClass: "submit-form",\n                      attrs: { width: "auto", right: "" },\n                      nativeOn: {\n                        click: function($event) {\n                          return _vm.send($event)\n                        }\n                      }\n                    },\n                    [_vm._v("\\n                    SEND\\n                ")]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n// CONCATENATED MODULE: ./resources/js/components/backend/requests/email/Email.vue?vue&type=template&id=e57e3938&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/backend/requests/email/Email.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nconst Navbar = () => __webpack_require__.e(/*! import() */ "chunk-7").then(__webpack_require__.bind(null, /*! ../../includes/Navbar */ "./resources/js/components/backend/includes/Navbar.vue"));\n\n/* harmony default export */ var Emailvue_type_script_lang_js_ = ({\n  name: \'email\',\n  props: {\n    title: String,\n    id: Number,\n    type: String\n  },\n  components: {\n    Navbar\n  },\n\n  data() {\n    return {\n      valid: false,\n      header: \'\',\n      email: \'\',\n      typeItem: \'\',\n      headerRules: [v => v.length >= 3],\n      text: \'\',\n      csrf: document.querySelector(\'meta[name="csrf-token"]\').getAttribute(\'content\')\n    };\n  },\n\n  methods: {\n    discard() {\n      this.header = \'\';\n      this.text = \'\';\n    },\n\n    send() {\n      let email = \'\';\n\n      if (this.typeItem === \'call\') {\n        email = this.call.email;\n      } else if (this.typeItem === \'product\') {\n        email = this.product.email;\n      } else {\n        email = this.service.email;\n      }\n\n      axios.post(\'/admin/requests/mail\', {\n        header: this.header,\n        text: this.text,\n        email: email\n      }).then(response => {\n        $(`<p class="success-sending text-success mt-2">${response.data}</p>`).insertBefore(\'.row.justify-content-end\');\n        setTimeout(() => {\n          $(\'.success-sending\').remove();\n        }, 2500);\n        this.header = \'\';\n        this.text = \'\';\n      });\n    }\n\n  },\n\n  created() {\n    Vue.set(this, \'typeItem\', this.$router.currentRoute.path.split(\'/\')[this.$router.currentRoute.path.split(\'/\').length - 2]);\n\n    switch (this.typeItem) {\n      case \'product\':\n        this.$store.dispatch(\'productRequest\', this.$router.currentRoute.params.id);\n        break;\n\n      case \'service\':\n        this.$store.dispatch(\'serviceRequest\', this.$router.currentRoute.params.id);\n        break;\n\n      case \'call\':\n        this.$store.dispatch(\'callRequest\', this.$router.currentRoute.params.id);\n        break;\n    }\n  },\n\n  computed: {\n    service() {\n      return this.$store.getters.getServiceRequestById;\n    },\n\n    product() {\n      return this.$store.getters.getProductRequestById;\n    },\n\n    call() {\n      return this.$store.getters.getCallRequestById;\n    },\n\n    tabs() {\n      let obj = {};\n      obj[this.title] = this.title;\n      obj[\'Send Email\'] = \'Send Email\';\n      return obj;\n    }\n\n  },\n\n  mounted() {},\n\n  watch: {\n    typeItem(n, o) {}\n\n  }\n});\n// CONCATENATED MODULE: ./resources/js/components/backend/requests/email/Email.vue?vue&type=script&lang=js&\n /* harmony default export */ var email_Emailvue_type_script_lang_js_ = (Emailvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n// EXTERNAL MODULE: ./node_modules/vuetify-loader/lib/runtime/installComponents.js\nvar installComponents = __webpack_require__("./node_modules/vuetify-loader/lib/runtime/installComponents.js");\nvar installComponents_default = /*#__PURE__*/__webpack_require__.n(installComponents);\n\n// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VBtn/index.js\nvar VBtn = __webpack_require__("./node_modules/vuetify/lib/components/VBtn/index.js");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VGrid/index.js + 9 modules\nvar VGrid = __webpack_require__("./node_modules/vuetify/lib/components/VGrid/index.js");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VForm/index.js + 1 modules\nvar VForm = __webpack_require__("./node_modules/vuetify/lib/components/VForm/index.js");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VTextField/index.js\nvar VTextField = __webpack_require__("./node_modules/vuetify/lib/components/VTextField/index.js");\n\n// EXTERNAL MODULE: ./node_modules/vuetify/lib/components/VTextarea/index.js + 2 modules\nvar VTextarea = __webpack_require__("./node_modules/vuetify/lib/components/VTextarea/index.js");\n\n// CONCATENATED MODULE: ./resources/js/components/backend/requests/email/Email.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["default"])(\n  email_Emailvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* vuetify-loader */\n\n\n\n\n\n\n\n\ninstallComponents_default()(component, {VBtn: VBtn["VBtn"],VCol: VGrid["VCol"],VContainer: VGrid["VContainer"],VForm: VForm["VForm"],VRow: VGrid["VRow"],VTextField: VTextField["VTextField"],VTextarea: VTextarea["VTextarea"]})\n\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "resources/js/components/backend/requests/email/Email.vue"\n/* harmony default export */ var Email = __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack:///./resources/js/components/backend/requests/email/Email.vue_+_4_modules?')}}]);