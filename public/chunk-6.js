(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{124:function(t,e,s){"use strict";s.r(e);var a={data:()=>({dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"#79C25A",width:290,zIndex:200}}),methods:{open(t,e,s){return this.dialog=!0,this.title=t,this.message=e,this.options=Object.assign(this.options,s),new Promise((t,e)=>{this.resolve=t,this.reject=e})},agree(){this.resolve(!0),this.dialog=!1},cancel(){this.resolve(!1),this.dialog=!1}}},i=s(10),l=s(11),o=s.n(l),r=s(257),c=s(205),n=s(201),d=s(256),h=s(401);l=s(255),s=s(242),a=Object(i.a)(a,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{id:"delete-action","max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"#79C25A",dense:"",flat:""}},[e("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))])],1),t._v(" "),e("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),t._v(" "),e("v-card-actions",{staticClass:"pt-0"},[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"accept",attrs:{color:"darken-1",text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("Yes")]),t._v(" "),e("v-btn",{staticClass:"cancel",attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("Cancel")])],1)],1)],1)}),[],!1,null,"b9bee446",null);e.default=a.exports,o()(a,{VBtn:r.a,VCard:c.a,VCardActions:n.a,VCardText:n.b,VDialog:d.a,VSpacer:h.a,VToolbar:l.a,VToolbarTitle:s.a})},182:function(t,e,s){"use strict";s.r(e);var a=s(124),i={props:{open:Boolean,type:String,id:Number,headings:String,route:String},components:{Confirm:a.default,Email:()=>Promise.all([s.e(0),s.e(90)]).then(s.bind(null,132))},data:()=>({dialog:!1,updated:!1,email:null,deleteModal:!1}),created(){},mounted(){switch(console.log(this.type),this.dialog=this.open,this.type){case"product":this.$store.dispatch("productRequest",this.id);break;case"service":this.$store.dispatch("serviceRequest",this.id);break;case"call":this.$store.dispatch("callRequest",this.id)}},methods:{onModal(){this.deleteModal||(this.$emit("offvalue",!1),this.$parent.$data.id=null)},getDate(t){let e=(""+t.replace(/[-?]/g,"/").replace("T"," ")).split(":"),s=[];return e.pop(),e[0].split("/").forEach(t=>{s.push(t.split(" ")[0])}),t=s[0],s[0]=s[2],s[2]=t,s.join("/")},deleteItem(t){this.deleteModal=!0,this.$refs.confirm.open("Delete","Are you sure?",{color:"red"}).then(e=>{e&&axios.post("/admin/request-delete",{id:t,type:this.type}).then(t=>{switch(this.$store.dispatch(this.type+"Request"),this.dialog=!1,this.updated=!0,this.deleteModal=!1,this.type){case"product":this.$store.dispatch("productRequests");break;case"service":this.$store.dispatch("serviceRequests");break;case"call":this.$store.dispatch("callRequests")}})})},moveToArchive(t){switch(this.type){case"product":axios.post("/admin/request-products",{id:t}).then(t=>{this.$store.dispatch("productRequests"),this.dialog=!1,this.updated=!0});break;case"service":axios.post("/admin/request-services",{id:t}).then(t=>{this.$store.dispatch("serviceRequests"),this.dialog=!1,this.updated=!0});break;case"call":axios.post("/admin/request-calls",{id:t}).then(t=>{this.$store.dispatch("callRequests"),this.dialog=!1,this.updated=!0})}},emailRender(){this.email=this.$attrs.email,this.$parent.$data.open=!1,this.$parent.$data.isEmail=!0,this.$parent.$data.email=this.email}},computed:{},watch:{open(t,e){this.dialog=!!t}}},l=s(10),o=s(11),r=s.n(o),c=s(257),n=s(205),d=s(201),h=s(248),p=s(236),v=s(256);a=s(413),o=s(401),i=Object(l.a)(i,(function(){var t=this,e=t.$createElement;return(e=t._self._c||e)("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{"max-width":"600px",id:"requests"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{directives:[{name:"click-out",rawName:"v-click-out",value:t.onModal,expression:"onModal"}]},[e("v-card-title",[e("h3",{staticClass:"headline"},[t._v("Request details")])]),t._v(" "),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[e("p",{staticClass:"header-item"},[t._v("Time")]),t._v(" "),e("p",{staticClass:"column-item"},[t._v(t._s(t.$attrs.created_at?t.getDate(t.$attrs.updated_at):""))])])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("p",{class:"header-item"},[t._v(t._s("call"===t.type?"Page":t.type))]),t._v(" "),e("p",{staticClass:"column-item"},[t._v(t._s("call"===t.type?t.$attrs.page:"service"===t.type?t.$attrs.service:t.$attrs.name))])]),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("p",{class:"header-item"},[t._v("Phone number")]),t._v(" "),e("p",{staticClass:"column-item"},[t._v(t._s(t.$attrs.phone))])]),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("p",{class:"header-item"},[t._v("Email")]),t._v(" "),e("p",{staticClass:"column-item"},[t._v(t._s(t.$attrs.email))])])],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12"}},[e("p",{class:"header-item"},[t._v("Comment")]),t._v(" "),e("p",{staticClass:"column-item"},[t._v(t._s(t.$attrs.comment))])])],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"darken-1",text:"",id:"cancel"},on:{click:t.onModal}},[t._v("\n                    Cancel\n                ")]),t._v(" "),e("v-btn",{staticClass:"btn-outline-danger",attrs:{color:"darken-1",text:"",id:"delete"},on:{click:function(e){return t.deleteItem(t.id)}}},[t._v("\n                    Delete\n                ")]),t._v(" "),e("v-btn",{attrs:{color:"darken-1",text:"",id:"archive"},on:{click:function(e){return t.moveToArchive(t.id)}}},[t._v("\n                    To archive\n                ")])],1),t._v(" "),e("Confirm",{ref:"confirm"})],1)],1)],1)}),[],!1,null,null,null);e.default=i.exports,r()(i,{VBtn:c.a,VCard:n.a,VCardActions:d.a,VCardText:d.b,VCardTitle:d.c,VCol:h.a,VContainer:p.a,VDialog:v.a,VRow:a.a,VSpacer:o.a})}}]);