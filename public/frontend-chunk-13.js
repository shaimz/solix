(window.webpackJsonp=window.webpackJsonp||[]).push([["frontend-chunk-13"],{"./resources/js/components/public/includes/Map/Map.vue":
/*!*************************************************************************!*\
  !*** ./resources/js/components/public/includes/Map/Map.vue + 6 modules ***!
  \*************************************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vue-yandex-maps/dist/vue-yandex-maps.esm.js */
/*! ModuleConcatenation bailout: Cannot concat with ./resources/js/width.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/public/includes/Map/Map.vue?vue&type=template&id=67ded4e0&scoped=true&\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    "div",\n    [\n      _c(\n        "yandex-map",\n        {\n          staticStyle: { height: "500px", "max-width": "100%", width: "100%" },\n          attrs: {\n            zoom: "7",\n            coords: _vm.coords,\n            controls: [],\n            "scroll-zoom": false\n          },\n          on: { "map-was-initialized": _vm.createdMap }\n        },\n        _vm._l(_vm.proj, function(billboard, index) {\n          return _vm.proj\n            ? _c("ymap-marker", {\n                key: index + 1,\n                attrs: {\n                  coords: _vm.getCords(billboard.coords),\n                  "marker-id": index + 1,\n                  "marker-type": "placemark",\n                  icon: _vm.getImage(billboard.type_id, billboard.ongoing),\n                  "balloon-template": _vm.mapItem(billboard, index)\n                },\n                on: { balloonopen: _vm.onBalloonOpen }\n              })\n            : _vm._e()\n        }),\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n// CONCATENATED MODULE: ./resources/js/components/public/includes/Map/Map.vue?vue&type=template&id=67ded4e0&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/vue-yandex-maps/dist/vue-yandex-maps.esm.js\nvar vue_yandex_maps_esm = __webpack_require__("./node_modules/vue-yandex-maps/dist/vue-yandex-maps.esm.js");\n\n// EXTERNAL MODULE: ./resources/js/width.js\nvar width = __webpack_require__("./resources/js/width.js");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/public/includes/Map/Map.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nconst moreItems = () => __webpack_require__.e(/*! import() */ "frontend-chunk-31").then(__webpack_require__.bind(null, /*! ../moreItems */ "./resources/js/components/public/includes/moreItems.vue"));\n\n/* harmony default export */ var Mapvue_type_script_lang_js_ = ({\n  name: \'Map\',\n  components: {\n    yandexMap: vue_yandex_maps_esm["yandexMap"],\n    ymapMarker: vue_yandex_maps_esm["ymapMarker"]\n  },\n  props: [],\n\n  data() {\n    return {\n      language: this.$route.params.locale === \'en\' ? 1 : this.$route.params.locale === \'ru\' ? 3 : 2,\n      coords: [47.041783, 28.883513],\n      settings: {\n        apiKey: \'c9f663ad-b0ef-42ab-8700-235248261fc5\',\n        coordorder: \'latlong\',\n        version: \'2.1\'\n      },\n      items: [],\n      proj: [],\n      myMap: {},\n      layout: "<div>{{ properties.balloonContentHeader }}</div><div>{{ properties.balloonContentBody }}</div><div>{{ properties.balloonContentFooter }}</div>"\n    };\n  },\n\n  mounted() {},\n\n  created() {\n    this.$store.dispatch(\'projects\', {\n      lang: this.$router.currentRoute.params.locale === \'en\' ? 1 : this.$router.currentRoute.params.locale === \'ru\' ? 3 : 2\n    }).then(() => {\n      this.proj = this.$store.getters.getProjects;\n    });\n  },\n\n  computed: {\n    projects() {\n      return this.$store.getters.getProjects;\n    },\n\n    small() {\n      return width["default"].data.small;\n    },\n\n    xsmall() {\n      return width["default"].data.xsmall;\n    },\n\n    medium() {\n      return width["default"].data.medium;\n    },\n\n    large() {\n      return width["default"].data.large;\n    },\n\n    xlarge() {\n      return width["default"].data.xlarge;\n    }\n\n  },\n  methods: {\n    getImage(type, ongoing) {\n      let path = \'/assets/icons/map/\';\n      let result = {\n        layout: \'default#imageWithContent\',\n        imageHref: \'\',\n        imageSize: [30, 30],\n        imageOffset: [0, 0]\n      };\n\n      if (ongoing) {\n        result.imageHref += path + \'full-outline.png\';\n      } else {\n        switch (type) {\n          case 1:\n            result.imageHref += path + \'semi-gray.png\';\n            break;\n\n          case 2:\n            result.imageHref += path + \'gray.png\';\n            break;\n\n          case 3:\n            result.imageHref += path + \'full.png\';\n            break;\n        }\n      }\n\n      return result;\n    },\n\n    getCords(coords) {\n      return coords.split(\',\');\n    },\n\n    mapItem(card, index) {\n      if (card.projects) {\n        return `<div :class="card">\n                            <img class="card-img-top" src="/${card.image}" alt="" style="height: auto;max-height: 160px;width: 100%;object-fit: cover;object-position: center;"/>\n                            <div class="card-body">\n                                <h4 class="before-border">${card.projects.name}</h4>\n                                <p class="project-description" style="margin: 15px 0 !important;overflow: hidden;text-overflow: ellipsis;max-width: 100%;max-height: 50px;">${card.projects.description}</p>\n                                <div class="card-project-features d-flex">\n                                    <div class="mr-5">\n                                        <i class="margin-icon">\n                                            <img src="/assets/icons/location-grey.png">\n                                        </i>\n                                        ${card.projects.location}\n                                    </div>\n                                    <div class="font-number project-power"><i class="margin-icon"><img\n                                        src="/assets/icons/light-grey.png"></i>${card.power} ${this.$t(\'power\')}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>`;\n      }\n    },\n\n    increaseOpacity() {\n      const op = this.optionsB.opacity * 10;\n      this.optionsB.opacity = Math.round(op > 9 ? 5 : op + 1) / 10;\n    },\n\n    updatePosition(pos) {\n      this.position = pos;\n    },\n\n    createdMap($map) {\n      this.myMap = $map;\n    },\n\n    onBalloonOpen() {\n      if (this.xsmall) {\n        let self = this,\n            elem = document.getElementsByClassName(\'ymaps-2-1-79-balloon\');\n        setTimeout(function () {\n          if (elem.length && elem[0].getBoundingClientRect().left > 0) {\n            let pixelCenter = self.myMap.getGlobalPixelCenter(),\n                offsetLeft = elem[0].getBoundingClientRect().left;\n            pixelCenter[0] += offsetLeft;\n            let geoCenter = self.myMap.options.get(\'projection\').fromGlobalPixels(pixelCenter, self.myMap.getZoom());\n            self.myMap.setCenter(geoCenter, self.myMap.getZoom(), {\n              duration: 100\n            });\n          }\n        }, 600);\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./resources/js/components/public/includes/Map/Map.vue?vue&type=script&lang=js&\n /* harmony default export */ var Map_Mapvue_type_script_lang_js_ = (Mapvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vuetify-loader/lib/loader.js??ref--5-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/public/includes/Map/Map.vue?vue&type=style&index=0&id=67ded4e0&scoped=true&lang=css&\n// extracted by mini-css-extract-plugin\n\n// CONCATENATED MODULE: ./resources/js/components/public/includes/Map/Map.vue?vue&type=style&index=0&id=67ded4e0&scoped=true&lang=css&\n\n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");\n\n// CONCATENATED MODULE: ./resources/js/components/public/includes/Map/Map.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["default"])(\n  Map_Mapvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "67ded4e0",\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = "resources/js/components/public/includes/Map/Map.vue"\n/* harmony default export */ var Map = __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack:///./resources/js/components/public/includes/Map/Map.vue_+_6_modules?')}}]);