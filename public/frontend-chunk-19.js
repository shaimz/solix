(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{157:function(t,e,s){"use strict";s.r(e);var i=s(1),a={name:"allServices",props:["lang","show"],data(){return{language:"en"===this.$route.params.locale?1:"ru"===this.$route.params.locale?3:2,services:[],active:"all",itemsToShow:4,toShow:this.show,total:0,render:!1,text:""}},computed:{xsmall:()=>i.a.data.xsmall,windowWidth:()=>i.a.data.xlarge},methods:{fetchList(t){var e,s=[];for(e in t)t[e].text&&s.push({id:e,value:t[e].text});return s},getTab(t){var e,s=this.$t("home.projects.filter");for(e in s)if(s[e].text===t.value)return s[e].tab},initialisePicker(){setTimeout(()=>{if(document.querySelector("#trigger7")){let t=this,e=this;new MobileSelect({trigger:"#trigger7",title:"",wheels:[{data:this.fetchList(this.$t("home.projects.filter"))}],cancelBtnText:this.$t("cancel"),ensureBtnText:this.$t("select"),jsonType:!0,position:[0],transitionEnd:function(t,e){},onShow:t=>{},callback:function(s,i){i=i[0],e.active=t.getTab(i),e.text=i.value}})}},700)},addItem(t,e=0){this.text=t.text,this.$nextTick(()=>{this.active=t.tab})},itemSort(t,e){let s=[];switch(e){case"all":return t;case"person":t.forEach((t,e)=>{t&&s.push({category:t.category,items:t.items.map(t=>{if("personal"===t.type)return t})})});break;case"business":t.forEach((t,e)=>{t&&s.push({category:t.category,items:t.items.map(t=>{if("business"===t.type)return t})})});break;case"juridic":t.forEach((t,e)=>{t&&s.push({category:t.category,items:t.items.map(t=>{if("juridic"===t.type)return t})})});break;default:s=[]}let i=[];return s.map(t=>{if(t.items[0])return i.push(t)}),i},setActive(t){let e={all:"",personal:"personal",business:"business",juridic:"juridic"};var s;t!==this.active&&(this.active=t,s=Object.values(this.services).filter((s,i)=>s.type===e[t]),this.total=s.length,"all"===t)&&(this.total=this.services.length)}},created(){this.$store.dispatch("services",{lang_id:this.language,limit:this.show,offset:0}).then(()=>{this.services=this.$store.getters.getServices,this.total=this.services.length,this.itemsToShow=this.show,this.render=!0})},mounted(){this.initialisePicker()},watch:{language(t,e){e!==t&&(this.language=t),this.$store.dispatch("services",{lang_id:t,limit:this.show,offset:0}).then(()=>{this.services=this.$store.getters.getServices,this.total=this.services.length})},services(t,e){t!==e&&(this.total=this.services.length)},rowsToShow(t,e){t!==e&&(this.itemsToShow=t)},xsmall(t,e){t!==e&&t&&this.initialisePicker()}}};s=s(11),s=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pt-16 bg-secondary padding-bottom-125"},[e("div",{staticClass:"d-flex justify-content-center col-xl-8 col-lg-11 col-11 mx-auto py-0"},[e("div",{staticClass:"col-md-12 p-0 ml-4 position-unset"},[t.render?e("div",{staticClass:"tab-content col-12 pr-0",attrs:{id:"v-pills-tabContent"}},t._l(t.$t("home.projects.filter"),(function(s){return e("div",{class:["tab-pane","fade",s.tab===t.active?"show active":""],attrs:{id:s.tab,role:"tabpanel","aria-labelledby":"v-pills-home-tab"}},t._l(t.itemSort(t.services,t.active),(function(s,i){return e("div",{key:"service-"+i,staticClass:"service-department"},[e("h2",[t._v(t._s(s.category))]),t._v(" "),e("div",{staticClass:"services"},t._l(s.items,(function(s){return s.data?e("div",{key:s.id,staticClass:"justify-content-evenly card service"},[e("img",{attrs:{src:"/private/images/services/"+s.id+"/service-"+s.id+"-min.jpg"}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h4",{staticClass:"mb-4"},[t._v(t._s(s.data.name))])])]):t._e()})),0)])})),0)})),0):t._e()])])])}),[],!1,null,"7fcf2a3a",null);e.default=s.exports}}]);