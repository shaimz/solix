(window.webpackJsonp=window.webpackJsonp||[]).push([[75,28],{130:function(e,t,a){"use strict";a.r(t);var s=a(244),i=a(246),o={name:"ShareByEmail",props:["item","path"],data:()=>({show:!1,email:"",error:"",images:{email_default:"/assets/components/projects/project/message.jpg",email:"/assets/components/projects/project/message.jpg",emailOver:"/assets/icons/email.svg"}}),mounted(){$("#emailDialog").appendTo("body")},methods:{hide(){this.show=!1},submit(){var e=this.item;new RegExp("(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[-\b\v\f-!#-[]-]|\\\\[-\t\v\f-])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[-\b\v\f-!-ZS-]|\\\\[-\t\v\f-])+)\\])").test(this.email)?axios.post("/admin/requests/mail",{email:this.email,header:e.name,text:this.path}).then(e=>{e&&(this.email="",this.error="",this.show=!1)}):this.error="Email incorrect"}}};a=a(11),a=Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("span",[t("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.show=!0}}},[t("img",{attrs:{src:e.images.email},on:{mouseover:function(t){e.images.email=e.images.emailOver},mouseleave:function(t){e.images.email=e.images.email_default}}})]),e._v(" "),t("div",{class:[e.show?"show":"hide"],attrs:{id:"emailDialog"}},[t("transition-group",{attrs:{type:"fade"}},[t("div",{key:"overlay",staticClass:"overlay",on:{click:e.hide}}),e._v(" "),t("div",{key:"card",staticClass:"card d-flex justify-content-center align-items-center flex-row"},[t(s.a,{staticClass:"position-relative"},[t(i.a,{class:[e.error?"error-field":""],attrs:{placeholder:e.$t("modalForm.placeholders.email")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),e.error?t("span",{staticClass:"text-danger"},[e._v(e._s(e.error))]):e._e()],1),e._v(" "),t("button",{staticClass:"btn-primary",on:{click:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e._v(e._s(e.$t("modalForm.buttons.order")))])],1)])],1)])}),[],!1,null,"d7f792f2",null);t.default=a.exports},171:function(e,t,a){"use strict";a.r(t);var s=a(202),i=a(130),o=a(12),r=a(7),l=a(1),n=a(405);a(407),i={name:"Project",components:{ShareByEmail:i.default,Discount:()=>a.e(6).then(a.bind(null,159)),MoreItems:()=>a.e(16).then(a.bind(null,161)),Breadcrumbs:()=>a.e(90).then(a.bind(null,128)),CoolLightBox:n.a},data(){return{language:"en"===this.$store.getters.getPublicLanguage.code?1:"ru"===this.$store.getters.getPublicLanguage.code?3:2,dataFetched:!1,open:!1,showModal:!1,largeImage:"",index:null,model:0,copiedMessage:"",images:{facebook_default:"/assets/components/projects/project/fb.jpg",facebook:"/assets/components/projects/project/fb.jpg",facebookOver:"/assets/icons/facebook.svg",link_default:"/assets/components/projects/project/link.jpg",link:"/assets/components/projects/project/link.jpg",linkOver:"/assets/icons/link.svg",email_default:"/assets/components/projects/project/link.jpg",email:"/assets/components/projects/project/link.jpg",emailOver:"/assets/icons/link.svg"}}},created(){this.$store.dispatch("singleProject",{id:this.$route.params.id,lang:this.language}).then(()=>{this.dataFetched=!0})},mounted(){r.a.$emit("position","absolute"),r.a.$emit("theme","dark"),this.copiedMessage=this.$i18n.messages[this.$i18n.locale].linkCopied},computed:{...Object(o.b)({item:"getSingleProject"}),xsmall:()=>l.a.data.xsmall,small:()=>l.a.data.small,breadcrumb(){return[{name:"projects",label:this.$t("projects.project")},{name:"Project",project_id:this.$route.params.id}]}},methods:{currentUrl(){return location.protocol+"//"+location.hostname+this.$route.fullPath},processImageUrl(e,t){var a=this.item.gallery.length-1;return 0===e||e===a?t:t.replace("thumbnail/","thumbnail/280/")},getImages(e){var t=[];if(e)for(var a in e)t.push("/private/images/projects/"+this.item.id+"/gallery/"+e[a].file);return t},youtube_parser:e=>!(!(e=e.match(/^https?\:\/\/(?:www\.youtube(?:\-nocookie)?\.com\/|m\.youtube\.com\/|youtube\.com\/)?(?:ytscreeningroom\?vi?=|youtu\.be\/|vi?\/|user\/.+\/u\/\w{1,2}\/|embed\/|watch\?(?:.*\&)?vi?=|\&vi?=|\?(?:.*\&)?vi?=)([^#\&\?\n\/<>"']*)/i))||11!=e[1].length)&&e[1],thumbnailOpen(e,t){this.showModal=!0,this.largeImage="/private/images/projects/"+t+"/gallery/"+e.file},hideModal(){this.largeImage="",this.showModal=!1},copy(e,t){var a=document.createElement("input");a.setAttribute("value",t),document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),alert(this.copiedMessage)}},watch:{language(){this.language="en"===this.$store.getters.getPublicLanguage.code?1:"ru"===this.$store.getters.getPublicLanguage.code?3:2},xsmall(e,t){},dataFetched(e,t){},open(e,t){t!==e&&this.$emit("openModal",{value:e})},$route(e){this.dataFetched=!0,e.path.includes("projects")&&(r.a.$emit("position","absolute"),r.a.$emit("theme","dark"))}}},n=a(11),o=Object(n.a)(i,(function(){var e=this,t=e._self._c;return t(s.a,{attrs:{id:"singleProject"}},[e.showModal?t("div",{staticClass:"large-image",on:{click:e.hideModal}},[t("img",{attrs:{src:e.largeImage}})]):e._e(),e._v(" "),e.dataFetched?t("div",{staticClass:"row col-12 top-header py-0 justify-content-center",style:{background:`url('/${e.item.image}')`}},[t("div",{staticClass:"bg-projects-blur"}),e._v(" "),t("div",{staticClass:"col-xs-11 col-xl-7 row flex-column padding-top-125",attrs:{id:"header"}},[t("breadcrumbs",{attrs:{items:e.breadcrumb}}),e._v(" "),t("div",{staticClass:"header-text text-white"},[e.item.projects?t("h1",[e._v(e._s(e.item.projects.name))]):e._e()])],1)]):e._e(),e._v(" "),t("div",{staticClass:"col-xl-7 col-11 m-auto d-flex single-description padding-125"},[e.item.projects?t("div",{staticClass:"socials d-lg-flex d-none flex-column mr-8"},[t("ShareNetwork",{attrs:{network:"facebook",url:e.currentUrl(),title:e.item.projects.name,description:e.item.projects.description}},[t("img",{attrs:{src:e.images.facebook},on:{mouseover:function(t){e.images.facebook=e.images.facebookOver},mouseleave:function(t){e.images.facebook=e.images.facebook_default}}})]),e._v(" "),t("ShareByEmail",{attrs:{item:e.item.projects,path:e.currentUrl()}}),e._v(" "),t("a",{ref:"path",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.copy(e.item,e.currentUrl())}}},[t("img",{attrs:{src:e.images.link},on:{mouseover:function(t){e.images.link=e.images.linkOver},mouseleave:function(t){e.images.link=e.images.link_default}}})])],1):e._e(),e._v(" "),e.item.projects?t("div",{staticClass:"description"},[t("div",{staticClass:"features mb-4"},e._l(e.item.features,(function(a){return t("p",{key:a.id},[t("strong",[e._v(e._s(a.name))]),e._v(" -\n                    "+e._s(a.value)+"\n                ")])})),0),e._v(" "),t("p",{domProps:{innerHTML:e._s(e.item.projects.description)}}),e._v(" "),t("CoolLightBox",{attrs:{items:e.getImages(e.item.gallery),index:e.index},on:{close:function(t){e.index=null}}}),e._v(" "),e.xsmall?t("div",{staticClass:"project-gallery"},[[t("div",{staticClass:"gallery-v2"},e._l(e.item.gallery,(function(a,s){return t("img",{key:s,attrs:{src:e.processImageUrl(s,a.thumbnail)},on:{click:function(t){e.index=s}}})})),0)]],2):t("div",{staticClass:"gallery"},e._l(e.item.gallery,(function(a,s){return t("img",{key:s,attrs:{src:e.processImageUrl(s,a.thumbnail)},on:{click:function(t){e.index=s}}})})),0),e._v(" "),e.item.link?t("div",{staticClass:"video-gallery"},[t("video-embed",{attrs:{params:{modestbranding:1,showinfo:0},src:e.item.link}})],1):e._e()],1):e._e()]),e._v(" "),t("div",{attrs:{id:"more-items"}},[t("more-items",{attrs:{show:"2",type:"projects",lang:e.language}})],1),e._v(" "),t("div",{staticClass:"justify-content-center px-0 padding-125",attrs:{id:"discount"}},[t("Discount",e._g({},e.$listeners))],1)])}),[],!1,null,"558afdca",null);t.default=o.exports}}]);